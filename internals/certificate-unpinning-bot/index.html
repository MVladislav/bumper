<!DOCTYPE html><html lang="en" class="no-js"><head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://mvladislav.github.io/bumper/internals/certificate-unpinning-bot/">
      
      
        <link rel="prev" href="../certificate-unpinning-app/">
      
      
        <link rel="next" href="../certificate-unpinning-goat/">
      
      
        
      
      
      <link rel="icon" href="../../images/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Certificate Pinning Bypass (BOT) - Bumper Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        
        <link rel="stylesheet" href="../../assets/external/fonts.googleapis.com/css.49ea35f2.css">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="deep-purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#certificate-unpinning-on-ecovacs-bot" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Bumper Docs" class="md-header__button md-logo" aria-label="Bumper Docs" data-md-component="logo">
      
  <img src="../../images/favicon.ico" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Bumper Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Certificate Pinning Bypass (BOT)
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/MVladislav/bumper" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Bumper Docs" class="md-nav__button md-logo" aria-label="Bumper Docs" data-md-component="logo">
      
  <img src="../../images/favicon.ico" alt="logo">

    </a>
    Bumper Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/MVladislav/bumper" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2">
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/dns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DNS Setup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/certificates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Certificate Setup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3">
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Usage
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Usage
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Command-Line Usage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Docker Usage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/mobile_app/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Mobile App Integration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4">
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Configuration
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Configuration
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/environment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Environment Variables
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Internals
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Internals
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sniffing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sniffing &amp; Reverse Engineering
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../certificate-unpinning-app/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Certificate Pinning Bypass (APP)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Certificate Pinning Bypass (BOT)
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Certificate Pinning Bypass (BOT)
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#option-1-simple-certificate-replacement" class="md-nav__link">
    <span class="md-ellipsis">
      
        üü¢ Option 1: Simple Certificate Replacement
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üü¢ Option 1: Simple Certificate Replacement">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-start-uart-console-on-host" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Start UART Console (on host)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-interrupt-boot-and-enter-shell-on-bot" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Interrupt Boot and Enter Shell (on bot)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-initialize-system-resources-on-bot" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Initialize System Resources (on bot)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-replace-certificates-on-bot" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Replace Certificates (on bot)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#option-2-full-root-filesystem-modification-advanced" class="md-nav__link">
    <span class="md-ellipsis">
      
        üü° Option 2: Full Root Filesystem Modification (Advanced)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üü° Option 2: Full Root Filesystem Modification (Advanced)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-optional-setup-wifi-on-bot" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. (Optional) Setup WiFi (on bot)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. (Optional) Setup WiFi (on bot)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-load-wifi-firmware" class="md-nav__link">
    <span class="md-ellipsis">
      
        a. Load WiFi Firmware
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#b-connect-to-wifi" class="md-nav__link">
    <span class="md-ellipsis">
      
        b. Connect to WiFi
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-create-root-filesystem-dump-on-bot" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Create Root Filesystem Dump (on bot)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Create Root Filesystem Dump (on bot)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-dump-root-filesystem" class="md-nav__link">
    <span class="md-ellipsis">
      
        a. Dump Root Filesystem
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#b-optional-backup-other-partitions" class="md-nav__link">
    <span class="md-ellipsis">
      
        b. (Optional) Backup Other Partitions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#c-serve-files-for-download" class="md-nav__link">
    <span class="md-ellipsis">
      
        c. Serve Files for Download
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-download-and-extract-root-filesystem-dump-on-host" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Download and Extract Root Filesystem Dump (on host)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Download and Extract Root Filesystem Dump (on host)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-download-root-filesystem-to-host" class="md-nav__link">
    <span class="md-ellipsis">
      
        a. Download Root Filesystem to Host
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#b-optional-download-other-partitions-to-host" class="md-nav__link">
    <span class="md-ellipsis">
      
        b. (Optional) Download Other Partitions to Host
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#c-extract-and-modify-rootfs" class="md-nav__link">
    <span class="md-ellipsis">
      
        c. Extract and Modify Rootfs
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-flash-modified-rootfs-back-to-bot" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Flash Modified Rootfs Back to Bot
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Flash Modified Rootfs Back to Bot">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-start-http-server-on-host" class="md-nav__link">
    <span class="md-ellipsis">
      
        a. Start HTTP Server on Host
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#b-download-and-flash-on-bot" class="md-nav__link">
    <span class="md-ellipsis">
      
        b. Download and Flash on Bot
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#notes" class="md-nav__link">
    <span class="md-ellipsis">
      
        üìù Notes
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    <span class="md-ellipsis">
      
        üìö References
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../certificate-unpinning-goat/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Certificate Pinning Bypass (GOAT)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6">
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Development
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Development
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/dev-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Development Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/MVladislav/bumper/actions" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Testing &amp; CI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../origins/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Origins &amp; Credits
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#option-1-simple-certificate-replacement" class="md-nav__link">
    <span class="md-ellipsis">
      
        üü¢ Option 1: Simple Certificate Replacement
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üü¢ Option 1: Simple Certificate Replacement">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-start-uart-console-on-host" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Start UART Console (on host)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-interrupt-boot-and-enter-shell-on-bot" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Interrupt Boot and Enter Shell (on bot)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-initialize-system-resources-on-bot" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Initialize System Resources (on bot)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-replace-certificates-on-bot" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Replace Certificates (on bot)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#option-2-full-root-filesystem-modification-advanced" class="md-nav__link">
    <span class="md-ellipsis">
      
        üü° Option 2: Full Root Filesystem Modification (Advanced)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üü° Option 2: Full Root Filesystem Modification (Advanced)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-optional-setup-wifi-on-bot" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. (Optional) Setup WiFi (on bot)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. (Optional) Setup WiFi (on bot)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-load-wifi-firmware" class="md-nav__link">
    <span class="md-ellipsis">
      
        a. Load WiFi Firmware
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#b-connect-to-wifi" class="md-nav__link">
    <span class="md-ellipsis">
      
        b. Connect to WiFi
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-create-root-filesystem-dump-on-bot" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Create Root Filesystem Dump (on bot)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Create Root Filesystem Dump (on bot)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-dump-root-filesystem" class="md-nav__link">
    <span class="md-ellipsis">
      
        a. Dump Root Filesystem
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#b-optional-backup-other-partitions" class="md-nav__link">
    <span class="md-ellipsis">
      
        b. (Optional) Backup Other Partitions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#c-serve-files-for-download" class="md-nav__link">
    <span class="md-ellipsis">
      
        c. Serve Files for Download
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-download-and-extract-root-filesystem-dump-on-host" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Download and Extract Root Filesystem Dump (on host)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Download and Extract Root Filesystem Dump (on host)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-download-root-filesystem-to-host" class="md-nav__link">
    <span class="md-ellipsis">
      
        a. Download Root Filesystem to Host
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#b-optional-download-other-partitions-to-host" class="md-nav__link">
    <span class="md-ellipsis">
      
        b. (Optional) Download Other Partitions to Host
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#c-extract-and-modify-rootfs" class="md-nav__link">
    <span class="md-ellipsis">
      
        c. Extract and Modify Rootfs
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-flash-modified-rootfs-back-to-bot" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Flash Modified Rootfs Back to Bot
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Flash Modified Rootfs Back to Bot">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-start-http-server-on-host" class="md-nav__link">
    <span class="md-ellipsis">
      
        a. Start HTTP Server on Host
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#b-download-and-flash-on-bot" class="md-nav__link">
    <span class="md-ellipsis">
      
        b. Download and Flash on Bot
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#notes" class="md-nav__link">
    <span class="md-ellipsis">
      
        üìù Notes
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    <span class="md-ellipsis">
      
        üìö References
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="certificate-unpinning-on-ecovacs-bot">Certificate Unpinning on Ecovacs Bot</h1>
<blockquote>
<p><strong>‚ö†Ô∏è Disclaimer:</strong></p>
<p>Accessing and modifying your Ecovacs bot is risky and may permanently damage your device. These steps will void your warranty, may violate your terms of service, and Ecovacs will likely refuse support for modified devices. Proceed entirely at your own risk!</p>
<blockquote>
<p>Double check all params. This instruction was tested on bot <code>T10 PLUS</code>. If you have another model, details may differ.</p>
</blockquote>
</blockquote>
<p>This guide explains two approaches to enable your Ecovacs bot to trust a self-signed certificate for use with a self-hosted Bumper server:</p>
<ul>
<li><strong>Option 1 (Recommended, Safer):</strong> Replace certificate files on the bot‚Äîno firmware modification required.</li>
<li><strong>Option 2 (Advanced):</strong> Extract, modify, and reflash the root filesystem for deeper changes.</li>
</ul>
<hr>
<h2 id="option-1-simple-certificate-replacement">üü¢ Option 1: Simple Certificate Replacement</h2>
<p>This method only updates certificate files on the device.<br>
No firmware unpacking or flashing is required.</p>
<h3 id="1-start-uart-console-on-host">1. Start UART Console (on host)</h3>
<p>Connect to the bot's UART serial port:</p>
<blockquote>
<p>Adjust parameters as needed:</p>
<ul>
<li><code>/dev/ttyACM0</code>: device name may differ</li>
<li><code>--log / --log-file</code>: optional, remove if you do not want logs</li>
</ul>
</blockquote>
<div class="highlight"><pre><span></span><code>picocom<span class="w"> </span>/dev/ttyACM0<span class="w"> </span>--flow<span class="w"> </span>n<span class="w"> </span>--baud<span class="w"> </span><span class="m">115200</span><span class="w"> </span>--log<span class="w"> </span>./b-capture-<span class="s2">"</span><span class="k">$(</span>date<span class="w"> </span>--iso-8601<span class="o">=</span>seconds<span class="k">)</span><span class="s2">"</span>.log

tio<span class="w"> </span>/dev/ttyACM0<span class="w"> </span>--flow<span class="w"> </span>none<span class="w"> </span>-b<span class="w"> </span><span class="m">115200</span><span class="w"> </span>--log<span class="w"> </span>--log-file<span class="w"> </span>./b-capture-<span class="s2">"</span><span class="k">$(</span>date<span class="w"> </span>--iso-8601<span class="o">=</span>seconds<span class="k">)</span><span class="s2">"</span>.log
</code></pre></div>
<table>
<thead>
<tr>
<th style="text-align: left;">UART - T10 PLUS</th>
<th style="text-align: left;">UART - <a href="https://dontvacuum.me/talks/DEFCON32/DEFCON32_reveng_hacking_ecovacs_robots.pdf">EXT-SOURCE</a></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><a class="glightbox" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="UART T10 PLUS" src="../../images/uart-t10-plus.png" width="300"></a></td>
<td style="text-align: left;"><a class="glightbox" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="UART EXT-SOURCE" src="../../images/uart-ext-source.png" width="300"></a></td>
</tr>
</tbody>
</table>
<p>‚ö†Ô∏è <strong>Never connect 5V to your UART adapter.</strong></p>
<h3 id="2-interrupt-boot-and-enter-shell-on-bot">2. Interrupt Boot and Enter Shell (on bot)</h3>
<p>On startup, interrupt into <code>Hobot</code> (press any key), then boot with updated <code>bootargs</code>:</p>
<div class="highlight"><pre><span></span><code>setenv<span class="w"> </span>bootargs<span class="w"> </span><span class="si">${</span><span class="nv">bootargs</span><span class="si">}</span><span class="w"> </span><span class="nv">init</span><span class="o">=</span>/bin/bash
boot
</code></pre></div>
<details class="note">
<summary>Note</summary>
<p>On some bots you need to hit a specific key mentioned during the boot-up process like:
</p><div class="highlight"><pre><span></span><code>Hit key to stop autoboot('CTRL+C'):  0
</code></pre></div><p></p>
<p>Sometime <code>picocom</code> is not working and in that case you can try <code>minicom</code>. You can keep pressed your key (eg. <code>CTRL+C</code>) during the boot process until it's interropted.
</p><div class="highlight"><pre><span></span><code>minicom<span class="w"> </span>-D<span class="w"> </span>/dev/ttyUSB0<span class="w"> </span>-b<span class="w"> </span><span class="m">115200</span>
</code></pre></div><p></p>
</details>
<h3 id="3-initialize-system-resources-on-bot">3. Initialize System Resources (on bot)</h3>
<p>Mount volumes and start required services:</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">TERM</span><span class="o">=</span>xterm-256color
mount<span class="w"> </span>-a

/etc/rc.d/pre_boot.sh<span class="w"> </span>start
/etc/rc.d/mount_data.sh<span class="w"> </span>start
/etc/rc.d/post_boot.sh<span class="w"> </span>start
/etc/rc.d/load_ko.sh<span class="w"> </span>start
/etc/rc.d/time_sync.sh<span class="w"> </span>start
</code></pre></div>
<details class="note">
<summary>Note</summary>
<p>On some models executing the above commands are failing. In this case you can try to manually mount <code>data</code> by checking the boot logs for the correct partition. During the boot-up the partition table is logged on the console and looks similar to:
</p><div class="highlight"><pre><span></span><code>GPT part:  0, name:            uboot, start:0x4000, size:0x2000
GPT part:  1, name:            trust, start:0x6000, size:0x2000
GPT part:  2, name:              eco, start:0x8000, size:0x3000
GPT part:  3, name:          reserve, start:0xb000, size:0x800
GPT part:  4, name:              sys, start:0xb800, size:0x1000
GPT part:  5, name:            boot1, start:0xc800, size:0x3000
GPT part:  6, name:          rootfs1, start:0xf800, size:0x40000
GPT part:  7, name:            boot2, start:0x4f800, size:0x3000
GPT part:  8, name:          rootfs2, start:0x52800, size:0x40000
GPT part:  9, name:             data, start:0x92800, size:0x5b7df
</code></pre></div><p></p>
<p>Identify the data partition (in the above example, it's on index 9), add 1 to the index, and check if you have a device by <code>ls /dev/rkflash0pX</code> (replace <code>X</code> with your index. In the example below, <code>/dev/rkflash0p10</code>).</p>
<p>If the device exists, you can manually mount it with:
</p><div class="highlight"><pre><span></span><code>mkdir<span class="w"> </span>-p<span class="w"> </span>/data
fsck.ext4<span class="w"> </span>-y<span class="w"> </span>/dev/rkflash0p10
mount<span class="w"> </span>-t<span class="w"> </span>ext4<span class="w"> </span>-o<span class="w"> </span>rw<span class="w"> </span>/dev/rkflash0p10<span class="w"> </span>/data
</code></pre></div><p></p>
</details>
<h3 id="4-replace-certificates-on-bot">4. Replace Certificates (on bot)</h3>
<blockquote>
<p><strong>‚ÑπÔ∏è Note:</strong>
Certificate changes made in this step may be reverted by a factory reset or firmware update. It is recommended to first connect your bot to the official Ecovacs cloud and complete the initial setup before replacing the certificates. If you ever reset or update the bot, you will need to repeat these certificate replacement steps.</p>
</blockquote>
<p>After running the above scripts, <code>/data</code> is mounted. You now need to manually update the certificate files on the bot using the UART shell:</p>
<ul>
<li>On your host, open the following files in a text editor:<ul>
<li><code>./certs/ca.crt</code></li>
<li><code>./certs/bumper.crt</code></li>
</ul>
</li>
<li>On the bot (UART shell), use an editor like <code>vi</code> or <code>cat &gt;</code> to paste the contents into the correct files:<ul>
<li>Overwrite <code>/data/ca.crt</code> with the contents of <code>./certs/ca.crt</code></li>
<li>Overwrite <code>/data/ca-certificates/ca.pem</code> with the contents of <code>./certs/ca.crt</code></li>
<li>For <code>/data/ca-certificates/ca-certificates.crt</code>, append the contents of <code>./certs/bumper.crt</code> and then <code>./certs/ca.crt</code> to the end of the file (do not remove existing entries; just add these two certs at the end, in this order)</li>
</ul>
</li>
</ul>
<blockquote>
<p>Tip: You can use <code>vi /data/ca-certificates/ca-certificates.crt</code> and paste at the end, or use <code>cat &gt;&gt; /data/ca-certificates/ca-certificates.crt</code> to append. Make sure to save and exit after pasting.</p>
</blockquote>
<p>Your bot should now trust your self-signed certificates. Reboot and test connectivity to your Bumper server.</p>
<hr>
<h2 id="option-2-full-root-filesystem-modification-advanced">üü° Option 2: Full Root Filesystem Modification (Advanced)</h2>
<blockquote>
<p><strong>‚ö†Ô∏è Not Ready:</strong>
This section is incomplete and not fully tested. Proceed only if you know what you are doing. More research/reverse engineering is required, especially for step <code>4. Flash Modified Rootfs Back to Bot -&gt; b. Download and Flash on Bot</code>.</p>
</blockquote>
<p>If the simple method does not work, you may need to modify the root filesystem. This is riskier and can brick your device if done incorrectly.</p>
<h3 id="1-optional-setup-wifi-on-bot">1. (Optional) Setup WiFi (on bot)</h3>
<p>If you need network access on the bot, set up WiFi:</p>
<h4 id="a-load-wifi-firmware">a. Load WiFi Firmware</h4>
<div class="highlight"><pre><span></span><code>/etc/rc.d/wifi.sh<span class="w"> </span>start
</code></pre></div>
<h4 id="b-connect-to-wifi">b. Connect to WiFi</h4>
<blockquote>
<p>Replace placeholders with your actual values:</p>
<ul>
<li><code>&lt;YOUR_SSID&gt;</code></li>
<li><code>&lt;YOUR_WIFI_PASSWORD&gt;</code></li>
<li><code>&lt;YOUR_BOT_IP&gt;</code> (e.g., 192.168.112.57)</li>
<li><code>&lt;YOUR_GATEWAY_IP&gt;</code> (e.g., 192.168.112.1)</li>
</ul>
</blockquote>
<div class="highlight"><pre><span></span><code>mkdir<span class="w"> </span>-p<span class="w"> </span>/tmp/wpa_ctrl
<span class="nb">echo</span><span class="w"> </span><span class="s2">"ctrl_interface=/tmp/wpa_ctrl"</span><span class="w"> </span>&gt;<span class="w"> </span>/tmp/wpa_supplicant.conf

wpa_passphrase<span class="w"> </span><span class="s1">'&lt;YOUR_SSID&gt;'</span><span class="w"> </span><span class="s1">'&lt;YOUR_WIFI_PASSWORD&gt;'</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>/tmp/wpa_supplicant.conf

wpa_supplicant<span class="w"> </span>-B<span class="w"> </span>-i<span class="w"> </span>wlan0<span class="w"> </span>-c<span class="w"> </span>/tmp/wpa_supplicant.conf<span class="w"> </span>-f<span class="w"> </span>/tmp/wpa.log<span class="w"> </span>-s
ifconfig<span class="w"> </span>wlan0<span class="w"> </span><span class="s1">'&lt;YOUR_BOT_IP&gt;'</span><span class="w"> </span>netmask<span class="w"> </span><span class="m">255</span>.255.255.0<span class="w"> </span>up
route<span class="w"> </span>add<span class="w"> </span>default<span class="w"> </span>gw<span class="w"> </span><span class="s1">'&lt;YOUR_GATEWAY_IP&gt;'</span>
</code></pre></div>
<h3 id="2-create-root-filesystem-dump-on-bot">2. Create Root Filesystem Dump (on bot)</h3>
<h4 id="a-dump-root-filesystem">a. Dump Root Filesystem</h4>
<div class="highlight"><pre><span></span><code>dd<span class="w"> </span><span class="k">if</span><span class="o">=</span>/dev/ubi0_0<span class="w"> </span><span class="nv">of</span><span class="o">=</span>/tmp/rootfs.img<span class="w"> </span><span class="nv">bs</span><span class="o">=</span>1M
</code></pre></div>
<h4 id="b-optional-backup-other-partitions">b. (Optional) Backup Other Partitions</h4>
<div class="highlight"><pre><span></span><code>dd<span class="w"> </span><span class="k">if</span><span class="o">=</span>/dev/ubi1_0<span class="w"> </span><span class="nv">of</span><span class="o">=</span>/tmp/data.img<span class="w"> </span><span class="nv">bs</span><span class="o">=</span>1M
dd<span class="w"> </span><span class="k">if</span><span class="o">=</span>/dev/ubi2_0<span class="w"> </span><span class="nv">of</span><span class="o">=</span>/tmp/sysinfo.img<span class="w"> </span><span class="nv">bs</span><span class="o">=</span>1M
dd<span class="w"> </span><span class="k">if</span><span class="o">=</span>/dev/ubi3_0<span class="w"> </span><span class="nv">of</span><span class="o">=</span>/tmp/ai_model.img<span class="w"> </span><span class="nv">bs</span><span class="o">=</span>1M
tar<span class="w"> </span>-czf<span class="w"> </span>/tmp/data.tar.gz<span class="w"> </span>-C<span class="w"> </span>/data<span class="w"> </span>.
</code></pre></div>
<h4 id="c-serve-files-for-download">c. Serve Files for Download</h4>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>/<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>httpd<span class="w"> </span>-p<span class="w"> </span><span class="m">8080</span>
</code></pre></div>
<h3 id="3-download-and-extract-root-filesystem-dump-on-host">3. Download and Extract Root Filesystem Dump (on host)</h3>
<h4 id="a-download-root-filesystem-to-host">a. Download Root Filesystem to Host</h4>
<blockquote>
<p>Replace <code>&lt;YOUR_BOT_IP&gt;</code> with your bot's actual IP address.</p>
</blockquote>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-Lo<span class="w"> </span>rootfs.img<span class="w"> </span>http://&lt;YOUR_BOT_IP&gt;:8080/tmp/rootfs.img
</code></pre></div>
<h4 id="b-optional-download-other-partitions-to-host">b. (Optional) Download Other Partitions to Host</h4>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-Lo<span class="w"> </span>data.img<span class="w"> </span>http://&lt;YOUR_BOT_IP&gt;:8080/tmp/data.img
curl<span class="w"> </span>-Lo<span class="w"> </span>sysinfo.img<span class="w"> </span>http://&lt;YOUR_BOT_IP&gt;:8080/tmp/sysinfo.img
curl<span class="w"> </span>-Lo<span class="w"> </span>ai_model.img<span class="w"> </span>http://&lt;YOUR_BOT_IP&gt;:8080/tmp/ai_model.img
curl<span class="w"> </span>-Lo<span class="w"> </span>data.tar.gz<span class="w"> </span>http://&lt;YOUR_BOT_IP&gt;:8080/tmp/data.tar.gz
</code></pre></div>
<p>You can extract or inspect these optional backup partitions with tools like <code>ubireader_extract_files</code>, <code>strings</code>, or <code>unsquashfs</code>:</p>
<div class="highlight"><pre><span></span><code>ubireader_extract_files<span class="w"> </span>data.img
cat<span class="w"> </span>sysinfo.img<span class="w"> </span><span class="p">|</span><span class="w"> </span>strings
unsquashfs<span class="w"> </span>-d<span class="w"> </span>ai_model<span class="w"> </span>./ai_model.img
mkdir<span class="w"> </span>-p<span class="w"> </span>data<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>tar<span class="w"> </span>-xzf<span class="w"> </span>./data.tar.gz<span class="w"> </span>-C<span class="w"> </span>data
</code></pre></div>
<h4 id="c-extract-and-modify-rootfs">c. Extract and Modify Rootfs</h4>
<div class="highlight"><pre><span></span><code>unsquashfs<span class="w"> </span>-d<span class="w"> </span>rootfs<span class="w"> </span>./rootfs.img
<span class="c1"># ... edit rootfs as needed ...</span>
mksquashfs<span class="w"> </span>rootfs<span class="w"> </span>rootfs_mod.img<span class="w"> </span>-noappend<span class="w"> </span>-root-owned<span class="w"> </span>-p<span class="w"> </span><span class="s1">'/dev d 755 0 0'</span><span class="w"> </span>-p<span class="w"> </span><span class="s1">'/dev/console c 600 0 0 5 1'</span>
</code></pre></div>
<h3 id="4-flash-modified-rootfs-back-to-bot">4. Flash Modified Rootfs Back to Bot</h3>
<h4 id="a-start-http-server-on-host">a. Start HTTP Server on Host</h4>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>-m<span class="w"> </span>http.server<span class="w"> </span><span class="m">8080</span>
</code></pre></div>
<h4 id="b-download-and-flash-on-bot">b. Download and Flash on Bot</h4>
<blockquote>
<p><strong>‚ö†Ô∏è Not Ready:</strong>
This step is not finished. When starting into <code>boot_mode2</code>, the root password is required. Further reverse engineering is needed.</p>
<p>Replace <code>&lt;YOUR_HOST_IP&gt;</code> with your host's actual IP address.</p>
</blockquote>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-Lo<span class="w"> </span>/data/rootfs_mod.img<span class="w"> </span>http://&lt;YOUR_HOST_IP&gt;:8080/rootfs_mod.img

ubi_atomic_update_leb<span class="w"> </span>/dev/ubi2_0<span class="w"> </span>-i<span class="w"> </span><span class="s2">"boot_mode2"</span><span class="w"> </span>-n<span class="w"> </span><span class="m">0</span>
reboot

ubiupdatevol<span class="w"> </span>/dev/ubi4_0<span class="w"> </span>/data/rootfs_mod.img

ubi_atomic_update_leb<span class="w"> </span>/dev/ubi2_0<span class="w"> </span>-i<span class="w"> </span><span class="s2">"boot_mode1"</span><span class="w"> </span>-n<span class="w"> </span><span class="m">0</span>
reboot
</code></pre></div>
<hr>
<h2 id="notes">üìù Notes</h2>
<ul>
<li>Always backup your data before making changes.</li>
<li>If unsure, use Option 1 first.</li>
<li>For certificate creation, see <a href="../../getting_started/certificates/">Create Certificates</a>.</li>
<li>For more context, see <a href="../architecture/">Architecture</a> and <a href="../certificate-unpinning-app/">App Certificate Unpinning</a>.</li>
</ul>
<h2 id="references">üìö References</h2>
<ul>
<li><a href="https://dontvacuum.me/talks/37c3-2023/37c3-vacuuming-and-mowing.pdf">https://dontvacuum.me/talks/37c3-2023/37c3-vacuuming-and-mowing.pdf</a></li>
<li><a href="https://dontvacuum.me/talks/DEFCON32/DEFCON32_reveng_hacking_ecovacs_robots.pdf">https://dontvacuum.me/talks/DEFCON32/DEFCON32_reveng_hacking_ecovacs_robots.pdf</a></li>
<li><a href="https://media.ccc.de/v/37c3-11943-sucking_dust_and_cutting_grass_reversing_robots_and_bypassing_security#t=2028">https://media.ccc.de/v/37c3-11943-sucking_dust_and_cutting_grass_reversing_robots_and_bypassing_security#t=2028</a></li>
<li><a href="https://github.com/itsjfx/ecovacs-hacking/blob/master/x1_omni.md">https://github.com/itsjfx/ecovacs-hacking/blob/master/x1_omni.md</a></li>
<li><a href="https://dontvacuum.me/">https://dontvacuum.me/</a></li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/MVladislav/bumper" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["content.code.copy"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  
<script id="init-glightbox">document.querySelectorAll('.glightbox').forEach(function(element) {
    try {
        var img = element.querySelector('img');
        if (img && img.src) {
            element.setAttribute('href', img.src);
        } else {
            console.log('No img element with src attribute found');
        }
    } catch (error) {
        console.log('Error:', error);
    }
});
const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>